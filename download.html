<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Perangkat Ajar</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin:0; padding:0; }
  
  header, footer { 
    background: #007bff; 
    color: white; 
    text-align: center; 
    padding: 20px 0; 
  }
  header h1 { margin:0; font-size: 24px; }
  
  nav { background: #0056b3; text-align: center; padding: 10px; }
  nav a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; transition: 0.3s; }
  nav a:hover { color: #ffd700; }
  
  main { 
    max-width: 800px; 
    margin: 20px auto; 
    background: white; 
    border-radius: 10px; 
    padding: 20px; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  }
  
  label { display:block; margin-top: 15px; font-weight: bold; }
  select, button { 
    padding: 10px; 
    margin-top:5px; 
    border-radius:5px; 
    border:1px solid #ccc; 
    width: 100%;
    font-size: 16px;
  }
  
  button { 
    background: #007bff; 
    color:white; 
    border:none; 
    cursor:pointer; 
    transition:0.3s; 
  }
  button:hover { background:#0056b3; }

  .materi-section { display: none; margin-top: 20px; }
  iframe { width: 100%; height: 500px; border: 1px solid #ccc; border-radius: 5px; margin-bottom: 15px; }

  @media (max-width: 600px){
    nav a { display:block; margin: 5px 0; }
  }
</style>
</head>
<body>

<header>
  <h1>Download Perangkat Ajar</h1>
</header>

<nav>
  <a href="index.html">Beranda</a>
  <a href="download.html">Download Perangkat</a>
  <a href="#">Tentang</a>
  <a href="#">Kontak</a>
</nav>

<main>
  <label for="jenjang">Pilih Jenjang:</label>
  <select id="jenjang">
    <option value="">-- Pilih Jenjang --</option>
    <option value="sd">SD</option>
    <option value="smp">SMP</option>
    <option value="sma">SMA</option>
  </select>

  <label for="kelas" id="label-kelas" style="display:none;">Pilih Kelas:</label>
  <select id="kelas" style="display:none;"></select>

  <label for="mapel" id="label-mapel" style="display:none;">Pilih Mata Pelajaran:</label>
  <select id="mapel" style="display:none;"></select>

  <div id="materi" class="materi-section">
    <h2>Preview & Download RPP</h2>
    <iframe id="preview" src="" title="Preview RPP"></iframe>
    <a id="file1" href="" target="_blank"><button>Lihat / Download RPP Bab 1</button></a>
    <a id="file2" href="" target="_blank"><button>Lihat / Download RPP Bab 2</button></a>
  </div>
</main>

<footer>
  &copy; 2025 PakGurukiki | Semua Hak Dilindungi
</footer>

<script>
const jenjangSelect = document.getElementById('jenjang');
const kelasSelect = document.getElementById('kelas');
const mapelSelect = document.getElementById('mapel');
const labelKelas = document.getElementById('label-kelas');
const labelMapel = document.getElementById('label-mapel');
const materiDiv = document.getElementById('materi');
const file1 = document.getElementById('file1');
const file2 = document.getElementById('file2');
const preview = document.getElementById('preview');

const kelasData = { sd: [1,2,3,4,5,6], smp:[1,2,3], sma:[1,2,3] };
const mapelData = {
  'sd-1':['B.Indonesia','Matematika','B.Sunda','PLH','B.Inggris','PAI','Pendidikan Pancasila','IPAS','PJOK']
};

jenjangSelect.addEventListener('change', ()=>{
  const jenjang = jenjangSelect.value;
  materiDiv.style.display='none';
  kelasSelect.style.display='none';
  labelKelas.style.display='none';
  mapelSelect.style.display='none';
  labelMapel.style.display='none';
  kelasSelect.innerHTML='';
  mapelSelect.innerHTML='';
  if(jenjang){
    labelKelas.style.display='block';
    kelasSelect.style.display='block';
    kelasSelect.innerHTML='<option value="">-- Pilih Kelas --</option>';
    kelasData[jenjang].forEach(k=>{
      const opt = document.createElement('option');
      opt.value = k; opt.text = 'Kelas '+k;
      kelasSelect.add(opt);
    });
  }
});

kelasSelect.addEventListener('change', ()=>{
  const jenjang = jenjangSelect.value;
  const kelas = kelasSelect.value;
  materiDiv.style.display='none';
  mapelSelect.innerHTML='';
  mapelSelect.style.display='none';
  labelMapel.style.display='none';
  if(kelas){
    const key = jenjang+'-'+kelas;
    const mapels = mapelData[key];
    if(mapels){
      labelMapel.style.display='block';
      mapelSelect.style.display='block';
      mapelSelect.innerHTML='<option value="">-- Pilih Mata Pelajaran --</option>';
      mapels.forEach(m=>{
        const opt = document.createElement('option');
        opt.value = m;
        opt.text = m;
        mapelSelect.add(opt);
      });
    }
  }
});

mapelSelect.addEventListener('change', ()=>{
  const jenjang = jenjangSelect.value;
  const kelas = kelasSelect.value;
  const mapel = mapelSelect.value;
  if(mapel){
    materiDiv.style.display='block';

    if (jenjang === 'sd' && kelas === '1' && mapel === 'B.Indonesia') {
      const baseURL = "https://pagurukiki.github.io/rpp/";
      const file1URL = baseURL + "rpp-bahasa-indonesia-kelas1-bab1.pdf";
      const file2URL = baseURL + "rpp-bahasa-indonesia-kelas1-bab2.pdf";

      preview.src = file1URL;
      file1.href = file1URL;
      file2.href = file2URL;

      file1.addEventListener('click', e => {
        e.preventDefault();
        preview.src = file1URL;
      });

      file2.addEventListener('click', e => {
        e.preventDefault();
        preview.src = file2URL;
      });
    }
    materiDiv.scrollIntoView({ behavior: 'smooth' });
  } else {
    materiDiv.style.display='none';
  }
});
</script>

</body>
</html>
