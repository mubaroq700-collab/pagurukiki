<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Perangkat Ajar</title>
<style>
body { font-family: Arial, sans-serif; background: #f5f5f5; margin:0; padding:0; }
header, footer { background: #007bff; color: white; text-align: center; padding: 20px 0; }
header h1 { margin:0; font-size: 24px; }
nav { background: #0056b3; text-align: center; padding: 10px; }
nav a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; transition: 0.3s; }
nav a:hover { color: #ffd700; }
main { max-width: 800px; margin: 20px auto; background: white; border-radius: 10px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
label { display:block; margin-top: 15px; font-weight: bold; }
select, button { padding: 10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; width: 100%; font-size: 16px; }
button { background: #007bff; color:white; border:none; cursor:pointer; transition:0.3s; }
button:hover { background:#0056b3; }
.materi-section { display: none; margin-top: 20px; }
.materi-section a { display:block; margin:10px 0; text-align:center; }
@media (max-width: 600px){ nav a { display:block; margin: 5px 0; } }
</style>
</head>
<body>

<header>
<h1>Download Perangkat Ajar</h1>
</header>

<nav>
<a href="index.html">Beranda</a>
<a href="download.html">Download Perangkat</a>
<a href="#">Tentang</a>
<a href="#">Kontak</a>
</nav>

<main>
  <label for="jenjang">Pilih Jenjang:</label>
  <select id="jenjang">
    <option value="">-- Pilih Jenjang --</option>
    <option value="sd">SD</option>
    <option value="smp">SMP</option>
    <option value="sma">SMA</option>
  </select>

  <label for="kelas" id="label-kelas" style="display:none;">Pilih Kelas:</label>
  <select id="kelas" style="display:none;"></select>

  <label for="mapel" id="label-mapel" style="display:none;">Pilih Mata Pelajaran:</label>
  <select id="mapel" style="display:none;"></select>

  <div id="materi" class="materi-section">
    <h2>Materi</h2>
    <p>Pilih file di bawah untuk preview PDF:</p>
    <div id="fileContainer"></div>
  </div>
</main>

<footer>
&copy; 2025 PaguRukiki | Semua Hak Dilindungi
</footer>

<script>
// Data kelas & mapel otomatis
const kelasData = { sd:[1,2,3,4,5,6], smp:[1,2,3], sma:[1,2,3] };
const mapelData = {
  sd: ['BahasaIndonesia','Matematika','B.Sunda','PLH','B.Inggris','PAI','Pancasila','IPAS','PJOK'],
  smp:['PendidikanAgama','Pancasila','BahasaIndonesia','B.Inggris','Matematika','IPA','IPS','SeniBudaya','PJOK'],
  sma:['PendidikanAgama','Pancasila','BahasaIndonesia','B.Inggris','Matematika','IPA','IPS','SeniBudaya','PJOK']
};

// Elemen
const jenjangSelect = document.getElementById('jenjang');
const kelasSelect = document.getElementById('kelas');
const mapelSelect = document.getElementById('mapel');
const labelKelas = document.getElementById('label-kelas');
const labelMapel = document.getElementById('label-mapel');
const materiDiv = document.getElementById('materi');
const fileContainer = document.getElementById('fileContainer');

// Pilih Jenjang
jenjangSelect.addEventListener('change', ()=>{
  const jenjang = jenjangSelect.value;
  kelasSelect.innerHTML = '';
  mapelSelect.innerHTML = '';
  fileContainer.innerHTML = '';
  materiDiv.style.display = 'none';
  labelKelas.style.display = jenjang ? 'block' : 'none';
  labelMapel.style.display = 'none';
  kelasSelect.style.display = jenjang ? 'block' : 'none';
  mapelSelect.style.display = 'none';
  if(jenjang){
    kelasSelect.innerHTML = '<option value="">-- Pilih Kelas --</option>';
    kelasData[jenjang].forEach(k=>{
      const opt = document.createElement('option');
      opt.value = k;
      opt.text = 'Kelas '+k;
      kelasSelect.add(opt);
    });
  }
});

// Pilih Kelas
kelasSelect.addEventListener('change', ()=>{
  const jenjang = jenjangSelect.value;
  const kelas = kelasSelect.value;
  mapelSelect.innerHTML = '';
  fileContainer.innerHTML = '';
  materiDiv.style.display = 'none';
  labelMapel.style.display = (jenjang && kelas) ? 'block' : 'none';
  mapelSelect.style.display = (jenjang && kelas) ? 'block' : 'none';
  if(jenjang && kelas){
    mapelData[jenjang].forEach(m=>{
      const opt = document.createElement('option');
      opt.value = m;
      opt.text = m.replace(/([A-Z])/g,' $1').trim(); // format spasi
      mapelSelect.add(opt);
    });
  }
});

// Pilih Mapel
mapelSelect.addEventListener('change', ()=>{
  const jenjang = jenjangSelect.value;
  const kelas = kelasSelect.value;
  const mapel = mapelSelect.value;
  fileContainer.innerHTML = '';
  if(jenjang && kelas && mapel){
    const folderPath = `assets/pdf/${jenjang}/kelas${kelas}/${mapel.toLowerCase()}/`;
    ['bab1.pdf','bab2.pdf'].forEach(f=>{
      const a = document.createElement('a');
      a.href = folderPath+f;
      a.target="_blank"; // preview di browser
      a.textContent = `ðŸ“„ ${mapel.replace(/([A-Z])/g,' $1').trim()} ${f.replace('.pdf','')}`;
      a.style.display = 'block';
      a.style.marginBottom = '5px';
      fileContainer.appendChild(a);
    });
    materiDiv.style.display = 'block';
    materiDiv.scrollIntoView({behavior:'smooth'});
  } else {
    materiDiv.style.display = 'none';
  }
});
</script>

</body>
</html>
