<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Perangkat Ajar</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin:0; padding:0; }
  header, footer { background: #007bff; color: white; text-align: center; padding: 20px 0; }
  header h1 { margin:0; font-size: 24px; }
  nav { background: #0056b3; text-align: center; padding: 10px; }
  nav a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; transition: 0.3s; }
  nav a:hover { color: #ffd700; }
  main { max-width: 800px; margin: 20px auto; background: white; border-radius: 10px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
  label { display:block; margin-top: 15px; font-weight: bold; }
  select, button { padding: 10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; width: 100%; font-size: 16px; }
  button { background: #007bff; color:white; border:none; cursor:pointer; transition:0.3s; }
  button:hover { background:#0056b3; }
  .materi-section { display: none; margin-top: 20px; }
  .materi-section a { display:block; margin:10px 0; text-align:center; }
  @media (max-width: 600px){ nav a { display:block; margin: 5px 0; } }
</style>
</head>
<body>

<header>
  <h1>Download Perangkat Ajar</h1>
</header>

<nav>
  <a href="index.html">Beranda</a>
  <a href="download.html">Download Perangkat</a>
  <a href="#">Tentang</a>
  <a href="#">Kontak</a>
</nav>

<main>
  <label for="jenjang">Pilih Jenjang:</label>
  <select id="jenjang">
    <option value="">-- Pilih Jenjang --</option>
    <option value="sd">SD</option>
  </select>

  <label for="kelas" id="label-kelas" style="display:none;">Pilih Kelas:</label>
  <select id="kelas" style="display:none;">
    <option value="">-- Pilih Kelas --</option>
    <option value="5">Kelas 5</option>
  </select>

  <label for="mapel" id="label-mapel" style="display:none;">Pilih Mata Pelajaran:</label>
  <select id="mapel" style="display:none;">
    <option value="">-- Pilih Mata Pelajaran --</option>
    <option value="ipas">IPAS</option>
  </select>

  <div id="materi" class="materi-section">
    <h2>Materi</h2>
    <div id="materi-list"></div>
  </div>
</main>

<footer>
  &copy; 2025 PaguRukiki | Semua Hak Dilindungi
</footer>

<script>
const jenjangSelect = document.getElementById('jenjang');
const kelasSelect = document.getElementById('kelas');
const mapelSelect = document.getElementById('mapel');
const labelKelas = document.getElementById('label-kelas');
const labelMapel = document.getElementById('label-mapel');
const materiDiv = document.getElementById('materi');
const materiList = document.getElementById('materi-list');

// Tampilkan Kelas saat Jenjang dipilih
jenjangSelect.addEventListener('change', ()=>{
  if(jenjangSelect.value){
    labelKelas.style.display='block';
    kelasSelect.style.display='block';
  } else {
    labelKelas.style.display='none';
    kelasSelect.style.display='none';
    labelMapel.style.display='none';
    mapelSelect.style.display='none';
    materiDiv.style.display='none';
  }
});

// Tampilkan Mapel saat Kelas dipilih
kelasSelect.addEventListener('change', ()=>{
  if(kelasSelect.value){
    labelMapel.style.display='block';
    mapelSelect.style.display='block';
  } else {
    labelMapel.style.display='none';
    mapelSelect.style.display='none';
    materiDiv.style.display='none';
  }
});

// Tampilkan Materi dari JSON
mapelSelect.addEventListener('change', ()=>{
  materiList.innerHTML = '';
  if(mapelSelect.value){
    materiDiv.style.display='block';
    // Path JSON sesuai folder
    const jsonPath = `sd/kelas5/ipas/ipas.json`;

    fetch(jsonPath)
      .then(res => res.json())
      .then(data => {
        data.forEach(item => {
          const a = document.createElement('a');
          a.href = item.link;
          a.download = '';
          const btn = document.createElement('button');
          btn.textContent = item.nama;
          a.appendChild(btn);
          materiList.appendChild(a);
        });
      })
      .catch(err => {
        materiList.innerHTML = '<p>Materi belum tersedia.</p>';
        console.error(err);
      });

    materiDiv.scrollIntoView({ behavior: 'smooth' });
  } else {
    materiDiv.style.display='none';
  }
});
</script>

</body>
</html>
